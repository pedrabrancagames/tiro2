<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ§œâ€â™€ï¸ A Pequena Sereia - Aventura Submarina RA</title>
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <div id="ui-layer">
    <div id="damage-overlay"></div>
    <!-- HUD durante o jogo -->
    <div id="hud" style="display: none;">
      <div id="score-board">ğŸ† <span id="score">0</span></div>
      <div id="timer-board">â±ï¸ <span id="timer">60</span>s</div>
    </div>

    <!-- Mira Central -->
    <div id="crosshair"></div>

    <!-- BotÃ£o de Tiro (Mantido para mobile/touch) -->
    <button id="shoot-btn" style="display: none;">ğŸŒŠ ATIRAR</button>

    <!-- Tela Inicial -->
    <div id="start-screen" class="screen">
      <h1>ğŸ§œâ€â™€ï¸ A Pequena Sereia</h1>
      <p>Ajude Ariel a limpar o oceano! Colete o lixo e proteja as criaturas marinhas. ğŸ </p>
      <button id="start-btn" class="primary-btn">ğŸŒŠ ComeÃ§ar Aventura</button>
    </div>

    <!-- Tela de Game Over -->
    <div id="game-over-screen" class="screen" style="display: none;">
      <h1>ğŸŒŠ Aventura ConcluÃ­da!</h1>
      <p>âœ¨ Sua PontuaÃ§Ã£o: <span id="final-score">0</span></p>
      <p>ğŸ† Melhor PontuaÃ§Ã£o: <span id="high-score">0</span></p>
      <button id="restart-btn" class="primary-btn">ğŸ”„ Jogar Novamente</button>
    </div>
  </div>

  <a-scene renderer="alpha: true; antialias: true; colorManagement: true;" xr-mode-ui="enabled: false; XRMode: ar;"
    webxr="optionalFeatures: dom-overlay; overlayElement: #ui-layer;" ar-hit-test="target: #reticle; type: map;">
    <!-- Gerenciador do Jogo -->
    <a-entity game-manager></a-entity>

    <!-- Spawner de Inimigos -->
    <a-entity spawner="interval: 2000; range: 5"></a-entity>

    <!-- CÃ¢mera com Raycaster para o tiro -->
    <a-entity id="rig">
      <a-camera position="0 1.6 0" look-controls="enabled: false">
        <a-entity id="weapon" weapon raycaster="objects: .trash, .fish; far: 20; showLine: false"
          position="0 0 -0.5"></a-entity>
        <a-cursor visible="false"></a-cursor>
      </a-camera>
    </a-entity>

    <!-- Luzes -->
    <a-light type="ambient" intensity="0.5"></a-light>
    <a-light type="directional" position="1 2 3" intensity="1"></a-light>
  </a-scene>
  <script type="module" src="/main.js"></script>
</body>

</html>